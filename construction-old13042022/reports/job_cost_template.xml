<odoo>
    <template id="job_report_template_id_print">
    <t t-call="web.external_layout">

        <div class="page">
            <h2 class="text-center">   Break Down </h2>
            <br></br>
            <br></br>
            <div class="oe_structure"/>

            <table class="table table-sm o_main_table">
                <!-- In case we want to repeat the header, remove "display: table-row-group" -->
                <thead style="display: table-row-group">
                    <tr>
                        <th  class="text-left">Code</th>

                        <th class="text-center">item</th>
                        <th class="text-center">Desc</th>
                        <th class="text-center">Unit of Measure</th>
                        <th class="text-center">Quantity</th>
                        <th   class="text-center">Project</th>


                        <th class="text-center">Customer</th>

                    </tr>
                </thead>
                <tbody class="sale_tbody">

                    <t t-set="current_subtotal" t-value="0"/>

                    <tr>
<!--                        <t t-set="current_subtotal" t-value="current_subtotal+line.total_value"/>-->
                        <td class="text-center"><span t-field="doc.code"/></td>

                        <td class="text-center"><span t-field="doc.item.name"/></td>
                        <td class="text-center"><span t-field="doc.description"/></td>
                        <td class="text-center"><span t-field="doc.uom_id.name"/></td>
                        <td class="text-center"><span t-field="doc.qty"/></td>

                        <td class="text-center"><span t-field="doc.project_id.name"/></td>
                        <td class="text-center"><span t-field="doc.partner_id.name"/></td>

                    </tr>

                </tbody>
            </table>
            <br></br>
            <br></br>
            <br></br>
            <h6 class="text-center">Martials</h6>
            <table style="border: 1px solid black;">
                <!-- In case we want to repeat the header, remove "display: table-row-group" -->
                <thead style="display: table-row-group">
                    <tr style="border: 1px solid black;">
                         <th  class="text-left" style="border: 1px solid black;">Product</th>
                        <th class="text-center" style="border: 1px solid black;">Desc</th>
                        <th class="text-center" style="border: 1px solid black;">Unit of Measure</th>
                        <th class="text-center" style="border: 1px solid black;">Quantity</th>
                        <th class="text-center" style="border: 1px solid black;">Waste</th>
                        <th class="text-center" style="border: 1px solid black;">Planned QTY</th>
                        <th   class="text-center" style="border: 1px solid black;">Cost/Price</th>
                        <th   class="text-center" style="border: 1px solid black;">Price Subtotal</th>

                        <th class="text-center">Total Quantity</th>
                        <th  class="text-center">
                               Total Value
                        </th>
                    </tr>
                </thead>
                <tbody class="sale_tbody">

                    <t t-set="current_subtotal" t-value="0"/>

                    <tr t-foreach="doc.material_ids" t-as="line">
                        <t t-set="current_subtotal" t-value="current_subtotal+line.total_value"/>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.product_id"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.description"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.uom_id"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.qty" sum="Total Qty"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.waste"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.planned_qty" readonly="1" sum="Total Planned Qty"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_unit" sum="Total Unit cost"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_subtotal" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_qty" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_value" sum="Total Value"/></td>

                    </tr>
                    <tr>

                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>

                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td class="text-center" style="border: 1px solid black;"><span t-esc="current_subtotal"/></td>
                    </tr>
                </tbody>
            </table>
            <br></br>
            <br></br>
             <h6 class="text-center">Labours</h6>
            <table style="border: 1px solid black;" name="labour">
                <!-- In case we want to repeat the header, remove "display: table-row-group" -->
                <thead style="display: table-row-group">
                    <tr style="border: 1px solid black;">
                         <th  class="text-left" style="border: 1px solid black;">Product</th>
                        <th class="text-center" style="border: 1px solid black;">Desc</th>
                        <th class="text-center" style="border: 1px solid black;">Unit of Measure</th>


                        <th class="text-center" style="border: 1px solid black;">Planned QTY</th>
                        <th   class="text-center" style="border: 1px solid black;">Cost/Price</th>
                        <th   class="text-center" style="border: 1px solid black;">Price Subtotal</th>

                        <th class="text-center">Total Quantity</th>
                        <th  class="text-center">
                               Total Value
                        </th>
                    </tr>
                </thead>
                <tbody class="sale_tbody">

                    <t t-set="current_subtotal" t-value="0"/>

                    <tr t-foreach="doc.labour_ids" t-as="line">
                        <t t-set="current_subtotal" t-value="current_subtotal+line.total_value"/>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.product_id"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.description"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.uom_id"/></td>


                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.planned_qty" readonly="1" sum="Total Planned Qty"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_unit" sum="Total Unit cost"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_subtotal" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_qty" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_value" sum="Total Value"/></td>

                    </tr>
                    <tr>

                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>

                        <td> </td>


                        <td class="text-center" style="border: 1px solid black;"><span t-esc="current_subtotal"/></td>
                    </tr>
                </tbody>
            </table>
            <br></br>
            <br></br>
             <h6 class="text-center">Expenses</h6>
            <table style="border: 1px solid black;" name="expense_ids">
                <!-- In case we want to repeat the header, remove "display: table-row-group" -->
                <thead style="display: table-row-group">
                    <tr style="border: 1px solid black;">
                         <th  class="text-left" style="border: 1px solid black;">Product</th>
                        <th class="text-center" style="border: 1px solid black;">Desc</th>
                        <th class="text-center" style="border: 1px solid black;">Unit of Measure</th>


                        <th class="text-center" style="border: 1px solid black;">Planned QTY</th>
                        <th   class="text-center" style="border: 1px solid black;">Cost/Price</th>
                        <th   class="text-center" style="border: 1px solid black;">Price Subtotal</th>

                        <th class="text-center">Total Quantity</th>
                        <th  class="text-center">
                               Total Value
                        </th>
                    </tr>
                </thead>
                <tbody class="sale_tbody">

                    <t t-set="current_subtotal" t-value="0"/>

                    <tr t-foreach="doc.expense_ids" t-as="line">
                        <t t-set="current_subtotal" t-value="current_subtotal+line.total_value"/>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.product_id"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.description"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.uom_id"/></td>


                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.planned_qty" readonly="1" sum="Total Planned Qty"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_unit" sum="Total Unit cost"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_subtotal" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_qty" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_value" sum="Total Value"/></td>

                    </tr>
                    <tr>

                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>

                        <td> </td>

                        <td class="text-center" style="border: 1px solid black;"><span t-esc="current_subtotal"/></td>
                    </tr>
                </tbody>
            </table>
            <br></br>
            <br></br>
             <h6 class="text-center">Sub-constractors</h6>
            <table style="border: 1px solid black;" name="subconstractor_ids">
                <!-- In case we want to repeat the header, remove "display: table-row-group" -->
                <thead style="display: table-row-group">
                    <tr style="border: 1px solid black;">
                         <th  class="text-left" style="border: 1px solid black;">Product</th>
                        <th class="text-center" style="border: 1px solid black;">Desc</th>
                        <th class="text-center" style="border: 1px solid black;">Unit of Measure</th>


                        <th class="text-center" style="border: 1px solid black;">Planned QTY</th>
                        <th   class="text-center" style="border: 1px solid black;">Cost/Price</th>
                        <th   class="text-center" style="border: 1px solid black;">Price Subtotal</th>

                        <th class="text-center">Total Quantity</th>
                        <th  class="text-center">
                               Total Value
                        </th>
                    </tr>
                </thead>
                <tbody class="sale_tbody">

                    <t t-set="current_subtotal" t-value="0"/>

                    <tr t-foreach="doc.subconstractor_ids" t-as="line">
                        <t t-set="current_subtotal" t-value="current_subtotal+line.total_value"/>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.product_id"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.description"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.uom_id"/></td>


                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.planned_qty" readonly="1" sum="Total Planned Qty"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_unit" sum="Total Unit cost"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_subtotal" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_qty" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_value" sum="Total Value"/></td>

                    </tr>
                    <tr>

                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>



                        <td> </td>
                        <td class="text-center" style="border: 1px solid black;"><span t-esc="current_subtotal"/></td>
                    </tr>
                </tbody>
            </table>
            <br></br>
            <br></br>
             <h6 class="text-center">Equipments</h6>
            <table style="border: 1px solid black;" name="equipment_ids">
                <!-- In case we want to repeat the header, remove "display: table-row-group" -->
                <thead style="display: table-row-group">
                    <tr style="border: 1px solid black;">
                         <th  class="text-left" style="border: 1px solid black;">Product</th>
                        <th class="text-center" style="border: 1px solid black;">Desc</th>
                        <th class="text-center" style="border: 1px solid black;">Unit of Measure</th>


                        <th class="text-center" style="border: 1px solid black;">Planned QTY</th>
                        <th   class="text-center" style="border: 1px solid black;">Cost/Price</th>
                        <th   class="text-center" style="border: 1px solid black;">Price Subtotal</th>

                        <th class="text-center">Total Quantity</th>
                        <th  class="text-center">
                               Total Value
                        </th>
                    </tr>
                </thead>
                <tbody class="sale_tbody">

                    <t t-set="current_subtotal" t-value="0"/>

                    <tr t-foreach="doc.equipment_ids" t-as="line">
                        <t t-set="current_subtotal" t-value="current_subtotal+line.total_value"/>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.product_id"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.description"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.uom_id"/></td>


                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.planned_qty" readonly="1" sum="Total Planned Qty"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_unit" sum="Total Unit cost"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.cost_subtotal" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_qty" sum="Total SubTotal"/></td>
                        <td class="text-center" style="border: 1px solid black;"><span t-field="line.total_value" sum="Total Value"/></td>

                    </tr>
                    <tr>

                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>
                        <td> </td>


                        <td> </td>

                        <td> </td>
                        <td class="text-center" style="border: 1px solid black;"><span t-esc="current_subtotal"/></td>
                    </tr>
                </tbody>
            </table>


        </div>
    </t>
    </template>
    <template id="job_report_id">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="doc">
            <t t-call="construction.job_report_template_id_print"/>
        </t>
    </t>
</template>
</odoo>